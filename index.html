<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <title>Prashant Public</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1 id="name"></h1>
  <p id="area"></p>
  <p id="designation"></p>
</header>

<!-- Banner -->
<section id="banner"></section>

<!-- Daily Message -->
<section class="message">
  <h2>आजचा संदेश</h2>
  <p id="dailyMessage"></p>
  <a id="whatsappBtn" class="btn" target="_blank">
    WhatsApp Message
  </a>
</section>

<!-- Gallery -->
<section>
  <h2 style="text-align:center;">कामाचे फोटो</h2>
  <div id="gallery" class="gallery"></div>
</section>

<script>
fetch("data.json")
  .then(response => response.json())
  .then(data => {

    // Profile details
    document.getElementById("name").innerText = data.profile.name;
    document.getElementById("area").innerText = data.profile.area;
    document.getElementById("designation").innerText = data.profile.designation;
    document.getElementById("dailyMessage").innerText = data.dailyMessage;

    // Banner (first image)
    const banner = document.getElementById("banner");
    banner.innerHTML = `<img src="${data.banners[0]}" style="width:100%;max-height:300px;object-fit:cover;">`;

    // Gallery images
    const gallery = document.getElementById("gallery");
    gallery.innerHTML = "";
    data.gallery.forEach(photo => {
      const img = document.createElement("img");
      img.src = photo;
      img.style.width = "150px";
      img.style.margin = "5px";
      img.style.borderRadius = "8px";
      gallery.appendChild(img);
    });

    // ✅ FINAL WhatsApp Logic (100% Working)
    const phone = data.profile.whatsapp; // example: 9184840xxxx
    const message = encodeURIComponent(data.dailyMessage);
    const whatsappURL = `https://wa.me/${phone}?text=${message}`;

    const btn = document.getElementById("whatsappBtn");
    btn.href = whatsappURL;
  })
  .catch(err => {
    console.error("Error loading data.json", err);
  });
</script>

</body>
</html>
