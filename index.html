<script>
fetch("data.json")
  .then(res => res.json())
  .then(data => {

    document.getElementById("name").innerText = data.profile.name;
    document.getElementById("area").innerText = data.profile.area;
    document.getElementById("designation").innerText = data.profile.designation;
    document.getElementById("dailyMessage").innerText = data.dailyMessage;

    const profileImg = document.getElementById("profilePhoto");
    profileImg.src = data.profile.photo;
    profileImg.onerror = () => {
      profileImg.style.display = "none";
    };

    // WhatsApp
    const msg = encodeURIComponent(
      data.dailyMessage + "\n\nपूर्ण माहिती:\n" + data.website
    );
    document.getElementById("whatsappShare").href =
      `https://wa.me/?text=${msg}`;

    document.getElementById("facebookLink").href = data.facebookPage;

    // Gallery FIX
    const gallery = document.getElementById("gallery");
    gallery.innerHTML = "";

    data.gallery.forEach(path => {
      const img = document.createElement("img");
      img.src = path;
      img.onerror = () => img.remove();
      gallery.appendChild(img);
    });
  })
  .catch(err => console.log("DATA ERROR", err));
</script>
